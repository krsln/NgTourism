!function(){"use strict";function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function e(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(self.webpackChunkng_tourism=self.webpackChunkng_tourism||[]).push([[391],{391:function(t,o,i){i.d(o,{T:function(){return u},yN:function(){return h},X_:function(){return f},lX:function(){return m}});var s=i(8583),a=i(7716);i(5094),i(1776),i(6889),i(1598),i(7540),i(4294),i(5207),i(5755);var r,p=((r=function t(){n(this,t)}).\u0275fac=function(t){return new(t||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({}),r),l=["gMap"],c=function(){var t=function(){function t(){n(this,t),this.Id="Mapper".concat("_",Math.random().toString(36).substring(2,15),"_",Math.random().toString(36).substring(2,15)),this.Markers=[]}return e(t,[{key:"CreateMap",value:function(t){var e=Object.assign({center:new google.maps.LatLng(41.015137,28.97953),zoom:5,maxZoom:13,minZoom:2,mapTypeId:google.maps.MapTypeId.ROADMAP,scrollwheel:!1,streetViewControl:!1},t);this.map=new google.maps.Map(this.gMap.nativeElement,e)}},{key:"CreateRouteMap",value:function(t){var e=this;this.CreateMap(t);var n=[];new google.maps.InfoWindow,this.Markers.forEach(function(t,o){var i=e.AddMarker({marker:t,label:(o+1).toString()},{});n.push(i.getPosition())}),this.SetPolyline(n),this.SetCleanRoadMap(),this.ExtendBounds()}},{key:"AddMarker",value:function(t,e){var n=this,o=new google.maps.Marker({title:t.marker.Title,position:new google.maps.LatLng(t.marker.LatLng.Lat,t.marker.LatLng.Lng),draggable:!1,animation:google.maps.Animation.DROP});t.label&&o.setLabel({color:"white",fontWeight:"bold",text:t.label}),this.map&&o.setMap(this.map);var i=new google.maps.InfoWindow({content:t.marker.Title});if(e.content&&i.setOptions({content:e.content}),o.addListener("click",function(){i.open(n.map,o),!e.noAnim&&(null!==o.getAnimation()?o.setAnimation(null):o.setAnimation(google.maps.Animation.BOUNCE))}),e.open){var s=o.getPosition();s&&this.map&&this.map.setCenter(s),setTimeout(function(){i.open(n.map,o)},300)}return o}},{key:"SetPolyline",value:function(t){var e={path:google.maps.SymbolPath.FORWARD_CLOSED_ARROW,scaledSize:new google.maps.Size(40,40),strokeColor:"#ff3333"},n=new google.maps.Polyline({path:t,icons:[{icon:e,repeat:"100px",offset:"100%"}],map:this.map});this.SetPolylineAnimate(n)}},{key:"SetPolylineAnimate",value:function(t){var e=0;window.setInterval(function(){e=(e+1)%200;var n=t.get("icons");n&&(n[0].offset=e/5+"%"),t.set("icons",n)},20)}},{key:"ExtendBounds",value:function(){var t=this,e=new google.maps.LatLngBounds;this.Markers&&this.Markers.forEach(function(t){e.extend(new google.maps.LatLng(t.LatLng.Lat,t.LatLng.Lng))}),setTimeout(function(){t.map&&t.map.fitBounds(e)},250)}},{key:"SetCleanRoadMap",value:function(){this.map&&this.map.setOptions({styles:[{featureType:"administrative.province",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"administrative.locality",elementType:"labels",stylers:[{visibility:"off"}]}]})}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Xpm({type:t,selectors:[["ql-mapper"]],viewQuery:function(t,e){var n;(1&t&&a.Gf(l,7),2&t)&&(a.iGM(n=a.CRH())&&(e.gMap=n.first))},inputs:{Markers:"Markers"},decls:3,vars:1,consts:[[1,"row","m-2","p-3","border","border-success","rounded",3,"id"],[2,"width","100%","height","400px"],["gMap",""]],template:function(t,e){1&t&&(a.TgZ(0,"div",0),a._UZ(1,"div",1,2),a.qZA()),2&t&&a.Q6J("id",e.Id)},styles:[""]}),t}(),u=function(){return(t=u||(u={})).HYBRID="hybrid",t.ROADMAP="roadmap",t.SATELLITE="satellite",t.TERRAIN="terrain",u;var t}(),m=function(){return(t=m||(m={}))[t.Basic=0]="Basic",t[t.RouteMap=1]="RouteMap",m;var t}(),h=function(){var t=function(){function t(e,o,i,s){n(this,t),this.elementRef=e,this.componentFactoryResolver=o,this.appRef=i,this.injector=s,this.el=this.elementRef.nativeElement}return e(t,[{key:"ngOnInit",value:function(){if(this.Options){var t={};this.Options.center&&(t.center=new google.maps.LatLng(this.Options.center.Lat,this.Options.center.Lng)),void 0!==this.Options.scrollWheel&&(t.scrollwheel=this.Options.scrollWheel),void 0!==this.Options.zoomControl&&(t.zoomControl=this.Options.zoomControl),void 0!==this.Options.mapTypeControl&&(t.mapTypeControl=this.Options.mapTypeControl),void 0!==this.Options.streetViewControl&&(t.streetViewControl=this.Options.streetViewControl),void 0!==this.Options.fullscreenControl&&(t.fullscreenControl=this.Options.fullscreenControl),this.Options.mapType&&(t.mapTypeId=this.Options.mapType),this.Options.zoom&&(t.zoom=this.Options.zoom.val||4,t.maxZoom=this.Options.zoom.max||13,t.minZoom=this.Options.zoom.min||2);var e=this.GetComponentRef();e.instance.Markers=this.Options.markers||[],this.Options.type===m.Basic&&(e.instance.CreateMap(t),this.Options.infoContent&&e.instance.AddMarker({marker:{Title:"test",LatLng:this.Options.center}},{content:this.Options.infoContent,open:!0})),this.Options.type===m.RouteMap&&e.instance.CreateRouteMap(t)}}},{key:"GetComponentRef",value:function(){var t=this.componentFactoryResolver.resolveComponentFactory(c).create(this.injector);return this.appRef.attachView(t.hostView),this.el.appendChild(t.hostView.rootNodes[0]),t}}]),t}();return t.\u0275fac=function(e){return new(e||t)(a.Y36(a.SBq),a.Y36(a._Vd),a.Y36(a.z2F),a.Y36(a.zs3))},t.\u0275dir=a.lG2({type:t,selectors:[["span","qlMapper",""],["div","qlMapper",""]],inputs:{Options:"Options"}}),t}(),f=function(){var t=function t(){n(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({imports:[[s.ez,p]]}),t}()}}])}();