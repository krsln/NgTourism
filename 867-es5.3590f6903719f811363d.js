!function(){"use strict";function e(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function t(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,r=new Array(t);o<t;o++)r[o]=e[o];return r}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,t,o){return t&&a(e.prototype,t),o&&a(e,o),e}(self.webpackChunkng_tourism=self.webpackChunkng_tourism||[]).push([[867],{6189:function(e,t,o){o.d(t,{E:function(){return a}});var r,a=((r=a||(a={}))[r.Tour=0]="Tour",r[r.Hotel=1]="Hotel",r[r.Flight=2]="Flight",r[r.Cruise=3]="Cruise",a)},8867:function(o,a,i){i.r(a),i.d(a,{SaleModule:function(){return Ae}});var l=i(8583),s=i(1535),u=i(4401),d=i(3092),m=i(5782),c=i(6163),p=i(6189),g=i(7238),f=(0,g.X$)("flyInOut",[(0,g.SB)("in",(0,g.oB)({transform:"translateX(0)"})),(0,g.eR)("void => *",[(0,g.oB)({transform:"translateX(-100%)"}),(0,g.jt)(500)]),(0,g.eR)("* => void",[(0,g.jt)(500,(0,g.oB)({transform:"translateX(100%)"}))])]),Z=(0,g.X$)("shrinkOut",[(0,g.SB)("in",(0,g.oB)({height:"*"})),(0,g.eR)("* => void",[(0,g.oB)({height:"*"}),(0,g.jt)(250,(0,g.oB)({height:0}))])]),v=i(4781),h=i(3792),C=function(){function e(){r(this,e)}return n(e,null,[{key:"GetDestinationOption",value:function(){return{Airline:h.J$.AtlasJet,DirectionType:0,BestAmount:122.44,Segments:[{Airline:h.J$.AtlasJet,FlightTime:h.Wb.Afternoon,AirlineName:"Atlasglobal",CompanyShortName:"",Departure:{City:"",Code:"IST",DateTime:"2018-09-21T00:00:00",Time:"00:00",TimeZoneOffset:""},Arrival:{City:"",Code:"AYT",DateTime:"2018-09-12T23:05:00",Time:"23:05",TimeZoneOffset:""},ElapsedTime:"01:10:00",IsTransfer:!1,VoyageCode:"20180921ATLJETISTAYTKK14",FlightNumber:"KK14",Equipment:{Content:"",AirEquipType:""}}],SegmentAvailabilities:[{ClassStatusCode:"ECONOMY",CabinType:2,ClassCode:"Y",AvailableSeats:"1",PricingInfos:[{PassengerType:0,CurrencyCode:"TRY",Taxes:null,BaseFare:null,TotalFare:{Amount:122.44,CurrencyCode:"TRY"}}],BestPricingInfo:{PassengerType:0,CurrencyCode:"TRY",Taxes:null,BaseFare:null,TotalFare:{Amount:122.44,CurrencyCode:"TRY"}}}]}}},{key:"GetTours",value:function(){return[{Package:null,PackageId:1,VariationId:1,Title:"Dummy Title",BaseCategory:{Id:1,Name:"Dummy BaseCategory"},Category:{Id:1,Name:"Dummy Category"},PeriodStart:"2018-08-16T11:09:29.3932898+03:00",PeriodEnd:"2018-09-16T11:09:29.3932898+03:00",Price:{Value:1453,ValueOld:0,Currency:{Code:"TRY",Name:"TL",Symbol:"\u20ba"}},Views:[{Type:v.bW.Image,Source:"https://source.unsplash.com/random/960x402",Caption:"Caption rsm1"},{Type:v.bW.Image,Source:"https://source.unsplash.com/random/960x403",Caption:"Caption rsm2"}],Tags:[]}]}},{key:"GetTourDetails",value:function(){return{Package:{TourId:1,Code:"Dummy Code",Name:"Dummy Name",Description:"Dummy Description",OperationTypeId:1,BaseCategory:{Id:1,Name:"Dummy BaseCategory"},Category:{Id:1,Name:"Dummy Category"},RegionId:1},ActionPlain:{ExcludedServices:"ExcludedServices",IncludedServices:"IncludedServices",Itineraries:[]},MapValues:[{Title:"",Latitude:"",Longitude:""}],VariationId:1,Title:"Dummy Title",PeriodStart:"2018-08-16T11:09:29.3932898+03:00",PeriodEnd:"2018-09-16T11:09:29.3932898+03:00",Price:{Currency:{Code:"TRY",Name:"TL",Symbol:"\u20ba"},Value:100},Views:[{Type:v.bW.Image,Source:"https://source.unsplash.com/random/960x402",Caption:"Caption rsm1"},{Type:v.bW.Image,Source:"https://source.unsplash.com/random/960x403",Caption:"Caption rsm2"}],Tags:["new"]}}},{key:"GetRoomAvailability",value:function(){return{Id:1,PeriodStart:"2018-08-16T11:09:29.3932898+03:00",PeriodEnd:"2018-09-16T11:09:29.3932898+03:00",UseType:"",Availability:9,MaxAdultCount:2,MaxChildCount:1,Room:{Id:0,RoomType:"0",Pansion:"0",BedType:"0",Facilities:[],Views:[{Type:v.bW.Image,Source:"https://source.unsplash.com/random/960x400",Caption:"Caption rsm1"},{Type:v.bW.Image,Source:"https://source.unsplash.com/random/960x401",Caption:"Caption rsm2"}],Hotel:{Name:"Fairmont Quasar Istanbul",Code:"Code ",Description:"\u015ei\u015fli Florence Nightingale Hastanesi yak\u0131n\u0131nda, tam donan\u0131ml\u0131 spa olan l\xfcks otel.",Location:{Address:"B\xfcy\xfckdere Caddesi No.: 76 Mecidiyekoy 34394 \u0130stanbul TUR"},Views:[{Type:v.bW.Image,Source:"https://source.unsplash.com/random/960x400",Caption:"Caption rsm1"},{Type:v.bW.Image,Source:"https://source.unsplash.com/random/960x401",Caption:"Caption rsm2"}]}},RoomPrices:[{AgeType:0,AgeRange:0,Price:{Value:1453,Currency:{Code:"TRY",Name:"TL",Symbol:"\u20ba"}}}]}}},{key:"GetRoomAvailabilities",value:function(){for(var e=[],t=1;t<=10;t++)e.push({Id:t,PeriodStart:"2018-08-16T11:09:29.3932898+03:00",PeriodEnd:"2018-09-16T11:09:29.3932898+03:00",UseType:"",Availability:9,MaxAdultCount:2,MaxChildCount:1,Room:{Id:0,RoomType:"0",Pansion:"0",BedType:"0",Hotel:{Id:1,Name:"Fairmont Quasar Istanbul"+t,Code:"Code ",Description:"\u015ei\u015fli Florence Nightingale Hastanesi yak\u0131n\u0131nda, tam donan\u0131ml\u0131 spa olan l\xfcks otel.",Location:{Address:"B\xfcy\xfckdere Caddesi No.: 76 Mecidiyekoy 34394 \u0130stanbul TUR"},Facilities:[],Views:[{Type:v.bW.Image,Source:"https://source.unsplash.com/random/960x400",Caption:"Caption rsm1"},{Type:v.bW.Image,Source:"https://source.unsplash.com/random/960x400"+t,Caption:"Caption rsm2"}]}},RoomPrices:[{AgeType:0,AgeRange:0,Price:{Value:1453,Currency:{Code:"TRY",Name:"TL",Symbol:"\u20ba"}}}]});return e}}]),e}(),y=i(7716),T=i(9046);function A(e,t){if(1&e&&y._UZ(0,"app-list-item",28),2&e){var o=y.oxw(),r=o.odd,a=o.$implicit,n=y.oxw(2);y.Q6J("Type","Sale")("IsOdd",r)("Tour",n.GetSale(a.Type,a.Sale))}}function _(e,t){if(1&e&&y._UZ(0,"app-list-item",29),2&e){var o=y.oxw(),r=o.odd,a=o.$implicit,n=y.oxw(2);y.Q6J("Type","Sale")("IsOdd",r)("Room",n.GetSale(a.Type,a.Sale))}}function b(e,t){if(1&e&&y._UZ(0,"app-list-item",30),2&e){var o=y.oxw(),r=o.odd,a=o.$implicit,n=y.oxw(2);y.Q6J("Type","Sale")("IsOdd",r)("Option",n.GetSale(a.Type,a.Sale))}}function q(e,t){if(1&e){var o=y.EpF();y.TgZ(0,"div",22),y.TgZ(1,"div",23),y.TgZ(2,"button",24),y.NdJ("click",function(){var e=y.CHM(o).$implicit;return y.oxw(2).OnDelete(e.Type,e.Id)}),y.qZA(),y.qZA(),y.YNc(3,A,1,3,"app-list-item",25),y.YNc(4,_,1,3,"app-list-item",26),y.YNc(5,b,1,3,"app-list-item",27),y.qZA()}if(2&e){var r=t.$implicit,a=y.oxw(2);y.Q6J("@flyInOut","in"),y.xp6(3),y.Q6J("ngIf",r.Type===a.CartType().Tour),y.xp6(1),y.Q6J("ngIf",r.Type===a.CartType().Hotel),y.xp6(1),y.Q6J("ngIf",r.Type===a.CartType().Flight)}}function N(e,t){if(1&e&&(y.TgZ(0,"div",1),y.YNc(1,q,6,4,"div",21),y.ALo(2,"async"),y.qZA()),2&e){var o=y.oxw();y.Q6J("@shrinkOut","in"),y.xp6(1),y.Q6J("ngForOf",y.lcZ(2,2,o.Cart).Sales)}}function I(e,t){1&e&&(y.TgZ(0,"div",1),y.TgZ(1,"div",22),y.TgZ(2,"div",12),y.TgZ(3,"div",4),y._uU(4," Shopping Cart is Empty! "),y._UZ(5,"i",31),y.qZA(),y.qZA(),y.qZA(),y.qZA()),2&e&&y.Q6J("@shrinkOut","in")}var S=function(){return["/Sale/Basket"]};function x(e,t){1&e&&(y.TgZ(0,"a",32),y._uU(1,"Checkout"),y.qZA()),2&e&&y.Q6J("routerLink",y.DdM(1,S))}var U,P=((U=function(){function e(t){r(this,e),this.store=t,this.TotalAmount=0,this.Currency="",this.CartType=function(){return p.E}}return n(e,[{key:"GetSale",value:function(e,t){switch(e){case p.E.Tour:case p.E.Hotel:case p.E.Flight:return t}return null}},{key:"ngOnInit",value:function(){var e=this;this.Cart=this.store.select("Cart"),this.Cart.subscribe(function(t){var o=t.Sales.map(function(e){var t;switch(e.Type){case p.E.Cruise:break;case p.E.Flight:var o=e.Sale.SegmentAvailabilities[0].PricingInfos[0];t={Type:e.Type,Currency:{Name:o.TotalFare.CurrencyCode},Value:o.TotalFare.Amount};break;case p.E.Hotel:var r=e.Sale.RoomPrices[0];t={Type:e.Type,Currency:r.Price.Currency,Value:r.Price.Value};break;case p.E.Tour:var a=e.Sale.Price;t={Type:e.Type,Currency:a.Currency,Value:a.Value}}return t});if(console.log(t.Sales,o),o.length>0){var r=o.map(function(e){return e.Value}).reduce(function(e,t){return e+t},0).toFixed(2);e.TotalAmount=Number(r),e.Currency=o[0].Currency.Symbol||"\u20ba"}else e.TotalAmount=0})}},{key:"Test",value:function(){this.store.dispatch(c.mm({Cart:{Type:p.E.Tour,PassengerCount:3,Sale:Object.assign({},C.GetTourDetails())}})),this.store.dispatch(c.mm({Cart:{Type:p.E.Hotel,PassengerCount:2,Sale:Object.assign({},C.GetRoomAvailability())}})),this.store.dispatch(c.mm({Cart:{Type:p.E.Flight,PassengerCount:1,Sale:Object.assign({},C.GetDestinationOption())}}))}},{key:"OnDelete",value:function(e,t){this.store.dispatch(c.HG({Type:e,Id:t}))}}]),e}()).\u0275fac=function(e){return new(e||U)(y.Y36(u.yh))},U.\u0275cmp=y.Xpm({type:U,selectors:[["app-cart"]],decls:37,vars:15,consts:[[1,"container"],[1,"row","mb-2"],[1,"col-12","p-md-1"],[1,"card","mb-2"],[1,"card-body"],[1,"card-title"],[1,"fas","fa-shopping-cart"],[1,"float-right"],[1,"btn","btn-outline-info","btn-sm","pull-right","mr-3",3,"routerLink"],[1,"btn","btn-outline-dark","btn-sm",3,"click"],["class","row mb-2",4,"ngIf"],[1,"col-12","p-md-1","mb-2"],[1,"card"],[1,"col-md-5","col-sm-5","float-left"],[1,"form-row"],[1,"md-form","input-group","m-0"],["type","text","placeholder","coupon code",1,"form-control"],[1,"input-group-append"],["type","button",1,"btn","btn-mdb-color","waves-effect","m-0"],["class"," btn btn-outline-primary float-right",3,"routerLink",4,"ngIf"],[1,"float-left",2,"margin","5px"],["class","col-12",4,"ngFor","ngForOf"],[1,"col-12"],[2,"position","absolute","right","20px","top","5px","z-index","1000"],[1,"Btn-close","Svg-bg","Svg-s-cross",3,"click"],[3,"Type","IsOdd","Tour",4,"ngIf"],[3,"Type","IsOdd","Room",4,"ngIf"],[3,"Type","IsOdd","Option",4,"ngIf"],[3,"Type","IsOdd","Tour"],[3,"Type","IsOdd","Room"],[3,"Type","IsOdd","Option"],[1,"fas","fa-battery-empty"],[1,"btn","btn-outline-primary","float-right",3,"routerLink"]],template:function(e,t){1&e&&(y.TgZ(0,"div",0),y.TgZ(1,"div",1),y.TgZ(2,"div",2),y.TgZ(3,"div",3),y.TgZ(4,"div",4),y.TgZ(5,"h5",5),y._UZ(6,"i",6),y._uU(7," Shopping Cart"),y.qZA(),y.TgZ(8,"span",7),y._uU(9),y.ALo(10,"async"),y.qZA(),y.TgZ(11,"a",8),y._uU(12,"Continue shopping"),y.qZA(),y.TgZ(13,"button",9),y.NdJ("click",function(){return t.Test()}),y._uU(14,"Add Dummy Data"),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.YNc(15,N,3,4,"div",10),y.ALo(16,"async"),y.YNc(17,I,6,1,"div",10),y.ALo(18,"async"),y.TgZ(19,"div",1),y.TgZ(20,"div",11),y.TgZ(21,"div",12),y.TgZ(22,"div",4),y.TgZ(23,"div",13),y.TgZ(24,"div",14),y.TgZ(25,"div",15),y._UZ(26,"input",16),y.TgZ(27,"div",17),y.TgZ(28,"button",18),y._uU(29,"Use coupon"),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.TgZ(30,"div",7),y.YNc(31,x,2,2,"a",19),y.ALo(32,"async"),y.TgZ(33,"div",20),y._uU(34,"Total price: "),y.TgZ(35,"b"),y._uU(36),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA()),2&e&&(y.xp6(9),y.hij("Count: ",y.lcZ(10,7,t.Cart).Length,""),y.xp6(2),y.Q6J("routerLink","/Tour/"),y.xp6(4),y.Q6J("ngIf",y.lcZ(16,9,t.Cart).Length>0),y.xp6(2),y.Q6J("ngIf",0===y.lcZ(18,11,t.Cart).Length),y.xp6(14),y.Q6J("ngIf",y.lcZ(32,13,t.Cart).Length>0),y.xp6(5),y.AsE("",t.TotalAmount,"",t.Currency,""))},directives:[m.yS,l.O5,l.sg,T.G],pipes:[l.Ov],styles:[""],data:{animation:[f,Z]}}),U),F=i(5207),k=i(6889),w=i(1776),J=i(2340),G=i(1841),O=i(3159),Q=function(){var e=function(){function e(t,o){r(this,e),this.http=t,this.serviceHelper=o,this.SaleChanged=new k.x,this.State={Latency:250,Urls:{Save:"".concat(J.N.BaseApiHost,"/api/1.0/Sale/Save"),PayPrepare:"".concat(J.N.BaseApiHost,"/api/1.0/Sale/SecurePrepare"),PayConfirm:"".concat(J.N.BaseApiHost,"/api/1.0/Sale/SecureConfirm")}}}return n(e,[{key:"Save",value:function(e){var t=this,o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.http.post(this.State.Urls.Save,e).pipe(this.serviceHelper.PipeNotification(o,this.State.Latency)).subscribe(function(e){console.log(e),t.SaleChanged.next(e.Data)})}},{key:"SecurePrepare",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.http.post(this.State.Urls.PayPrepare,e).pipe(this.serviceHelper.PipeNotification(t,this.State.Latency))}},{key:"SecureConfirm",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.http.post(this.State.Urls.PayConfirm,e).pipe(this.serviceHelper.PipeNotification(t,this.State.Latency))}},{key:"BankCardControl",value:function(e){return new w.y(function(e){e.next(null)})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(y.LFG(G.eN),y.LFG(O.Y))},e.\u0275prov=y.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),R=i(7812),B=i(3057),E=i(7773),L=i(2588);function M(e,t){if(1&e&&(y.TgZ(0,"option",48),y._uU(1),y.qZA()),2&e){var o=t.$implicit;y.Q6J("value",o.Id),y.xp6(1),y.Oqu(o.Name)}}function D(e,t){if(1&e&&(y.TgZ(0,"option",48),y._uU(1),y.qZA()),2&e){var o=t.$implicit;y.Q6J("value",o.Id),y.xp6(1),y.Oqu(o.Name)}}var Y=function(){var e=function(){function e(t){r(this,e),this.locationService=t,this.Countries=[],this.Cities=[]}return n(e,[{key:"ngOnInit",value:function(){var e=this;this.locationService.GetCountries().subscribe(function(t){e.Countries=t})}},{key:"FillDummyData",value:function(){var e=this;this.GroupReservation.patchValue({Reservation:{Gender:"Female",FirstName:"-+ FirstName",LastName:"-+ LastName",Birthday:"1990/12/24",IdentificationNumber:"54516102821",ContactInformation:{Email:"Email@mail.com",PhoneCell:"-+ PhoneCell",Phone:"-+ Phone"},Address:{Line1:"-+ Line1",Line2:"-+ Line2",PostalCode:"-+ 34900"}}}),this.GroupReservation.get("Reservation.Address.Country").valueChanges.subscribe(function(t){e.onCountryChange(t),e.GroupReservation.get("Reservation.Address.City").setValue("2")}),this.GroupReservation.get("Reservation.Address.Country").setValue("2")}},{key:"FillCustomerData",value:function(e,t){var o=this;if(t){console.log("FillCustomerData",t);var r,a,n=new Date;t.Birthday&&(n=new Date(t.Birthday)),t.ContactInfos&&(r=t.ContactInfos[0],a=r.Addresses[0]),e.patchValue({Gender:t.Gender,FirstName:t.FirstName,LastName:t.LastName,Birthday:t.Birthday,IdentificationNumber:t.IdentificationNumber}),e.get("Birthday").setValue(n.getFullYear()+"/"+n.getMonth()+"/"+n.getDay()),e.get("Birthday").setValue(t.Birthday),r&&(e.patchValue({ContactInformation:{Email:t.Email,PhoneCell:r.CellPhone,Phone:r.Phone}}),a&&(e.patchValue({Address:{Line1:a.Line1,Line2:a.Line2,PostalCode:a.PostalCode}}),e.get("Address.Country").valueChanges.subscribe(function(t){o.onCountryChange(t),e.get("Address.City").setValue(a.City)}),e.get("Address.Country").setValue(a.Country),e.get("Address.District").setValue(a.District),e.get("Address.Neighborhood").setValue(a.Neighborhood)))}}},{key:"GetFormControl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.GroupReservation;return t.get(e)}},{key:"GetFormArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.GroupReservation;return t.get(e)}},{key:"onCountryChange",value:function(e){var t=this;this.locationService.GetCities(e).subscribe(function(e){t.Cities=e})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(y.Y36(B.aU))},e.\u0275cmp=y.Xpm({type:e,selectors:[["app-reservation"]],inputs:{GroupReservation:"GroupReservation"},decls:100,vars:30,consts:[[1,"card","shadow","mb-2"],[1,"card-body"],[1,"card-title"],[1,"btn","btn-outline-dark",3,"click"],[3,"formGroup"],[1,"col",3,"formGroupName"],[1,"row"],[1,"col-12","col-md-6"],[1,"form-group"],[1,"form-check","form-check-inline"],["type","radio","name","Gender","id","Gender_Male","value","Male",1,"form-check-input",3,"formControlName"],["for","Gender_Male",1,"form-check-label"],["type","radio","name","Gender","id","Gender_Female","value","Female",1,"form-check-input",3,"formControlName"],["for","Gender_Female",1,"form-check-label"],[1,"col-lg-6"],["for","FirstName"],["type","text","id","FirstName","placeholder","First Name",1,"form-control","form-control-sm",3,"formControlName"],[3,"Caption","ToCheck"],["for","LastName"],["type","text","id","LastName","placeholder","Last Name",1,"form-control","form-control-sm",3,"formControlName"],["for","IdentificationNumber"],["type","text","id","IdentificationNumber","placeholder","Identification Number",1,"form-control","form-control-sm",3,"formControlName"],["for","Birthday"],["type","text","id","Birthday","qlPickerDate","","autocomplete","off","placeholder","yy/mm/d",1,"form-control","form-control-sm",3,"formControlName"],[3,"formGroupName"],["for","Email"],[1,"fa","fa-envelope"],["type","email","id","Email","placeholder","Email",1,"form-control","form-control-sm",3,"formControlName"],["for","PhoneCell"],["type","text","id","PhoneCell","placeholder","Phone Cell",1,"form-control","form-control-sm",3,"formControlName"],["for","Phone"],["type","text","id","Phone","placeholder","Phone",1,"form-control","form-control-sm",3,"formControlName"],[1,"col-12"],["for","Line1"],["type","text","id","Line1","placeholder","1234 Main St",1,"form-control","form-control-sm",3,"formControlName"],["for","Line2"],["type","text","id","Line2","placeholder","Apartment, studio, or floor",1,"form-control","form-control-sm",3,"formControlName"],[1,"form-group","col-md-6"],["for","inputState"],["id","inputState",1,"form-select","form-select-sm",3,"formControlName","change"],["selected",""],[3,"value",4,"ngFor","ngForOf"],[1,"form-group","col-md-4"],["for","inputCity"],["id","inputCity",1,"form-select","form-select-sm",3,"formControlName"],[1,"form-group","col-md-2"],["for","inputZip"],["type","text","id","inputZip",1,"form-control","form-control-sm",3,"formControlName"],[3,"value"]],template:function(e,t){1&e&&(y.TgZ(0,"div",0),y.TgZ(1,"div",1),y.TgZ(2,"h2",2),y._uU(3,"Fatura M\xfc\u015fteri Bilgileri"),y.qZA(),y.TgZ(4,"span",3),y.NdJ("click",function(){return t.FillDummyData()}),y._uU(5,"Fill Dummy Data"),y.qZA(),y.ynx(6,4),y.TgZ(7,"div",5),y.TgZ(8,"div",6),y.TgZ(9,"div",7),y.TgZ(10,"div",8),y.TgZ(11,"label"),y._uU(12,"Gender:\xa0\xa0"),y.qZA(),y.TgZ(13,"div",9),y._UZ(14,"input",10),y.TgZ(15,"label",11),y._uU(16,"Male"),y.qZA(),y.qZA(),y.TgZ(17,"div",9),y._UZ(18,"input",12),y.TgZ(19,"label",13),y._uU(20,"Female"),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.TgZ(21,"div",6),y.TgZ(22,"div",14),y.TgZ(23,"div",8),y.TgZ(24,"label",15),y._uU(25,"First Name"),y.qZA(),y._UZ(26,"input",16),y._UZ(27,"app-validation",17),y.qZA(),y.qZA(),y.TgZ(28,"div",14),y.TgZ(29,"div",8),y.TgZ(30,"label",18),y._uU(31,"Last Name"),y.qZA(),y._UZ(32,"input",19),y._UZ(33,"app-validation",17),y.qZA(),y.qZA(),y.qZA(),y.TgZ(34,"div",6),y.TgZ(35,"div",14),y.TgZ(36,"div",8),y.TgZ(37,"label",20),y._uU(38,"Identification Number"),y.qZA(),y._UZ(39,"input",21),y._UZ(40,"app-validation",17),y.qZA(),y.qZA(),y.TgZ(41,"div",14),y.TgZ(42,"div",8),y.TgZ(43,"label",22),y._uU(44,"Birthday"),y.qZA(),y._UZ(45,"input",23),y._UZ(46,"app-validation",17),y.qZA(),y.qZA(),y.qZA(),y.TgZ(47,"div",24),y.TgZ(48,"div",6),y.TgZ(49,"div",14),y.TgZ(50,"div",8),y.TgZ(51,"label",25),y._UZ(52,"i",26),y._uU(53," Email"),y.qZA(),y._UZ(54,"input",27),y._UZ(55,"app-validation",17),y.qZA(),y.qZA(),y.TgZ(56,"div",14),y._UZ(57,"div",8),y.qZA(),y.qZA(),y.TgZ(58,"div",6),y.TgZ(59,"div",14),y.TgZ(60,"div",8),y.TgZ(61,"label",28),y._uU(62,"Phone Cell"),y.qZA(),y._UZ(63,"input",29),y.qZA(),y.qZA(),y.TgZ(64,"div",14),y.TgZ(65,"div",8),y.TgZ(66,"label",30),y._uU(67,"Phone"),y.qZA(),y._UZ(68,"input",31),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.TgZ(69,"div",24),y.TgZ(70,"div",6),y.TgZ(71,"div",32),y.TgZ(72,"div",8),y.TgZ(73,"label",33),y._uU(74,"Address"),y.qZA(),y._UZ(75,"input",34),y.qZA(),y.qZA(),y.TgZ(76,"div",32),y.TgZ(77,"div",8),y.TgZ(78,"label",35),y._uU(79,"Address 2"),y.qZA(),y._UZ(80,"input",36),y.qZA(),y.qZA(),y.qZA(),y.TgZ(81,"div",6),y.TgZ(82,"div",37),y.TgZ(83,"label",38),y._uU(84,"Country"),y.qZA(),y.TgZ(85,"select",39),y.NdJ("change",function(e){return t.onCountryChange(e.target.value)}),y.TgZ(86,"option",40),y._uU(87,"Choose..."),y.qZA(),y.YNc(88,M,2,2,"option",41),y.qZA(),y.qZA(),y.TgZ(89,"div",42),y.TgZ(90,"label",43),y._uU(91,"City"),y.qZA(),y.TgZ(92,"select",44),y.TgZ(93,"option",40),y._uU(94,"Choose..."),y.qZA(),y.YNc(95,D,2,2,"option",41),y.qZA(),y.qZA(),y.TgZ(96,"div",45),y.TgZ(97,"label",46),y._uU(98,"Zip"),y.qZA(),y._UZ(99,"input",47),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.BQk(),y.qZA(),y.qZA()),2&e&&(y.xp6(6),y.Q6J("formGroup",t.GroupReservation),y.xp6(1),y.Q6J("formGroupName","Reservation"),y.xp6(7),y.Q6J("formControlName","Gender"),y.xp6(4),y.Q6J("formControlName","Gender"),y.xp6(8),y.Q6J("formControlName","FirstName"),y.xp6(1),y.Q6J("Caption","FirstName")("ToCheck",t.GetFormControl("Reservation.FirstName")),y.xp6(5),y.Q6J("formControlName","LastName"),y.xp6(1),y.Q6J("Caption","LastName")("ToCheck",t.GetFormControl("Reservation.LastName")),y.xp6(6),y.Q6J("formControlName","IdentificationNumber"),y.xp6(1),y.Q6J("Caption","IdentificationNumber")("ToCheck",t.GetFormControl("Reservation.IdentificationNumber")),y.xp6(5),y.Q6J("formControlName","Birthday"),y.xp6(1),y.Q6J("Caption","Birthday")("ToCheck",t.GetFormControl("Reservation.Birthday")),y.xp6(1),y.Q6J("formGroupName","ContactInformation"),y.xp6(7),y.Q6J("formControlName","Email"),y.xp6(1),y.Q6J("Caption","Email")("ToCheck",t.GetFormControl("Reservation.ContactInformation.Email")),y.xp6(8),y.Q6J("formControlName","PhoneCell"),y.xp6(5),y.Q6J("formControlName","Phone"),y.xp6(1),y.Q6J("formGroupName","Address"),y.xp6(6),y.Q6J("formControlName","Line1"),y.xp6(5),y.Q6J("formControlName","Line2"),y.xp6(5),y.Q6J("formControlName","Country"),y.xp6(3),y.Q6J("ngForOf",t.Countries),y.xp6(4),y.Q6J("formControlName","City"),y.xp6(3),y.Q6J("ngForOf",t.Cities),y.xp6(4),y.Q6J("formControlName","PostalCode"))},directives:[d.JL,d.sg,d.x0,d._,d.Fj,d.JJ,d.u,E.c,L.d,d.EJ,d.YN,d.Kr,l.sg],styles:[""],encapsulation:2}),e}();function V(e,t){if(1&e&&(y.TgZ(0,"div",7),y.TgZ(1,"div",8),y.TgZ(2,"h5",1),y._uU(3),y.qZA(),y.TgZ(4,"div",9),y.TgZ(5,"div",10),y.TgZ(6,"div",11),y._UZ(7,"input",12),y.TgZ(8,"label",13),y._uU(9,"Male"),y.qZA(),y.qZA(),y.TgZ(10,"div",11),y._UZ(11,"input",14),y.TgZ(12,"label",13),y._uU(13,"Female"),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.TgZ(14,"div",15),y.TgZ(15,"label",16),y._uU(16,"Birthday"),y.qZA(),y._UZ(17,"input",17),y._UZ(18,"app-validation",18),y.qZA(),y.TgZ(19,"div",15),y.TgZ(20,"label",16),y._UZ(21,"i",19),y._uU(22," Email"),y.qZA(),y._UZ(23,"input",20),y._UZ(24,"app-validation",18),y.qZA(),y.TgZ(25,"div",15),y.TgZ(26,"label",16),y._uU(27,"Name"),y.qZA(),y._UZ(28,"input",21),y._UZ(29,"app-validation",18),y.qZA(),y.TgZ(30,"div",15),y.TgZ(31,"label",16),y._uU(32,"Last Name"),y.qZA(),y._UZ(33,"input",22),y._UZ(34,"app-validation",18),y.qZA(),y.TgZ(35,"div",15),y.TgZ(36,"label",16),y._uU(37,"IdentityNo"),y.qZA(),y._UZ(38,"input",23),y._UZ(39,"app-validation",18),y.qZA(),y.TgZ(40,"div",15),y.TgZ(41,"label",16),y._uU(42,"PassportNo"),y.qZA(),y._UZ(43,"input",24),y.qZA(),y.TgZ(44,"div",15),y.TgZ(45,"label",25),y._uU(46,"PassportType"),y.qZA(),y._UZ(47,"input",26),y.qZA(),y.TgZ(48,"ul",27),y.TgZ(49,"li",28),y._uU(50,"Additional Services"),y.qZA(),y.TgZ(51,"li",28),y._uU(52,"..."),y.qZA(),y.qZA(),y.qZA(),y.qZA()),2&e){var o=t.$implicit,r=t.index,a=y.oxw();y.Q6J("formGroupName",r.toString()),y.xp6(3),y.hij("Passenger ",r+1," "),y.xp6(4),y.MGl("name","Passenger_",a.CartModel.Id+"_"+r,"_Gender"),y.MGl("id","Passenger_",a.CartModel.Id+"_"+r,"_Male"),y.Q6J("formControlName","Passenger_"+a.CartModel.Id+"_"+r+"_Gender"),y.xp6(1),y.MGl("for","Passenger_",a.CartModel.Id+"_"+r,"_Male"),y.xp6(3),y.MGl("name","Passenger_",a.CartModel.Id+"_"+r,"_Gender"),y.MGl("id","Passenger_",a.CartModel.Id+"_"+r,"_Female"),y.Q6J("formControlName","Passenger_"+a.CartModel.Id+"_"+r+"_Gender"),y.xp6(1),y.MGl("for","Passenger_",a.CartModel.Id+"_"+r,"_Female"),y.xp6(3),y.s9C("for","Passenger_"+a.CartModel.Id+"_"+r+"_Birthday"),y.xp6(2),y.s9C("id","Passenger_"+a.CartModel.Id+"_"+r+"_Birthday"),y.Q6J("formControlName","Passenger_"+a.CartModel.Id+"_"+r+"_Birthday"),y.xp6(1),y.Q6J("Caption","Birthday")("ToCheck",a.GetFormControl("Passenger_"+a.CartModel.Id+"_"+r+"_Birthday",o)),y.xp6(2),y.s9C("for","Passenger_"+a.CartModel.Id+"_"+r+"_Email"),y.xp6(3),y.s9C("id","Passenger_"+a.CartModel.Id+"_"+r+"_Email"),y.Q6J("formControlName","Passenger_"+a.CartModel.Id+"_"+r+"_Email"),y.xp6(1),y.Q6J("Caption","Email")("ToCheck",a.GetFormControl("Passenger_"+a.CartModel.Id+"_"+r+"_Email",o)),y.xp6(2),y.s9C("for","Passenger_"+a.CartModel.Id+"_"+r+"_FirstName"),y.xp6(2),y.s9C("id","Passenger_"+a.CartModel.Id+"_"+r+"_FirstName"),y.Q6J("formControlName","Passenger_"+a.CartModel.Id+"_"+r+"_FirstName"),y.xp6(1),y.Q6J("Caption","FirstName")("ToCheck",a.GetFormControl("Passenger_"+a.CartModel.Id+"_"+r+"_FirstName",o)),y.xp6(2),y.s9C("for","Passenger_"+a.CartModel.Id+"_"+r+"_LastName"),y.xp6(2),y.s9C("id","Passenger_"+a.CartModel.Id+"_"+r+"_LastName"),y.Q6J("formControlName","Passenger_"+a.CartModel.Id+"_"+r+"_LastName"),y.xp6(1),y.Q6J("Caption","LastName")("ToCheck",a.GetFormControl("Passenger_"+a.CartModel.Id+"_"+r+"_LastName",o)),y.xp6(2),y.s9C("for","Passenger_"+a.CartModel.Id+"_"+r+"_IdentityNo"),y.xp6(2),y.s9C("id","Passenger_"+a.CartModel.Id+"_"+r+"_IdentityNo"),y.Q6J("formControlName","Passenger_"+a.CartModel.Id+"_"+r+"_IdentityNo"),y.xp6(1),y.Q6J("Caption","IdentityNo")("ToCheck",a.GetFormControl("Passenger_"+a.CartModel.Id+"_"+r+"_IdentityNo",o)),y.xp6(2),y.s9C("for","Passenger_"+a.CartModel.Id+"_"+r+"_PassportNo"),y.xp6(2),y.s9C("id","Passenger_"+a.CartModel.Id+"_"+r+"_PassportNo"),y.Q6J("formControlName","Passenger_"+a.CartModel.Id+"_"+r+"_PassportNo"),y.xp6(2),y.s9C("for","Passenger_"+a.CartModel.Id+"_"+r+"_PassportType"),y.xp6(2),y.s9C("id","Passenger_"+a.CartModel.Id+"_"+r+"_PassportType"),y.Q6J("formControlName","Passenger_"+a.CartModel.Id+"_"+r+"_PassportType")}}var H=function(){var e=function(){function e(){r(this,e),this.Passengers=[]}return n(e,[{key:"ngOnChanges",value:function(e){}},{key:"ngOnInit",value:function(){}},{key:"FillDummyData",value:function(){var e=this;this.GroupPassengers.get("Passengers").controls.forEach(function(t,o){var r="Passenger_"+e.CartModel.Id+"_"+o+"_";t.get(r+"Gender").setValue("Female"),t.get(r+"Birthday").setValue("1990/12/24"),t.get(r+"Email").setValue("Email@mail.com"),t.get(r+"FirstName").setValue("-+ FirstName"+o),t.get(r+"LastName").setValue("-+ LastName"+o),t.get(r+"IdentityNo").setValue("-+ IdentityNo"+o),t.get(r+"PassportNo").setValue("-+ PassportNo"+o),t.get(r+"PassportType").setValue("-+ PassportType"+o)})}},{key:"GetFormControl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.GroupPassengers;return t.get(e)}},{key:"GetFormArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.GroupPassengers;return t.get(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=y.Xpm({type:e,selectors:[["app-passengers"]],inputs:{CartModel:"CartModel",GroupPassengers:"GroupPassengers"},features:[y.TTD],decls:17,vars:5,consts:[[1,"card","card-body",3,"formGroup"],[1,"card-title"],[1,"btn","btn-outline-dark",3,"click"],[1,"row","mb-2"],[1,"col"],[1,"row","mb-2",3,"formArrayName"],["class","col-12 col-md-6 col-lg-4 p-md-1 mb-2",3,"formGroupName",4,"ngFor","ngForOf"],[1,"col-12","col-md-6","col-lg-4","p-md-1","mb-2",3,"formGroupName"],[1,"shadow","p-3","rounded"],[1,"form-row"],[1,"form-group","col-12"],[1,"form-check","form-check-inline"],["type","radio","value","Male",1,"form-check-input",3,"name","formControlName","id"],[1,"form-check-label",3,"for"],["type","radio","value","Female",1,"form-check-input",3,"name","formControlName","id"],[1,"form-group"],[3,"for"],["type","text","appDatePicker","","autocomplete","off","placeholder","yy/mm/d",1,"form-control","form-control-sm",3,"id","formControlName"],[3,"Caption","ToCheck"],[1,"fa","fa-envelope"],["type","text","placeholder","Email",1,"form-control","form-control-sm",3,"id","formControlName"],["type","text","placeholder","Name",1,"form-control","form-control-sm",3,"id","formControlName"],["type","text","placeholder","Last Name",1,"form-control","form-control-sm",3,"id","formControlName"],["type","text","placeholder","IdentityNo",1,"form-control","form-control-sm",3,"id","formControlName"],["type","text","placeholder","PassportNo",1,"form-control","form-control-sm",3,"id","formControlName"],[1,"active",3,"for"],["type","text","placeholder","PassportType",1,"form-control","form-control-sm",3,"id","formControlName"],[1,"list-group","list-group-flush"],[1,"list-group-item"]],template:function(e,t){1&e&&(y.TgZ(0,"div",0),y.TgZ(1,"h2",1),y._uU(2,"Passengers"),y.qZA(),y.TgZ(3,"p"),y.TgZ(4,"span",2),y.NdJ("click",function(){return t.FillDummyData()}),y._uU(5,"Fill Dummy Data"),y.qZA(),y.qZA(),y.TgZ(6,"div",3),y.TgZ(7,"div",4),y.TgZ(8,"label"),y._uU(9,"Id:"),y.qZA(),y._uU(10),y.qZA(),y.TgZ(11,"div",4),y.TgZ(12,"label"),y._uU(13,"PassengerCount:"),y.qZA(),y._uU(14),y.qZA(),y.qZA(),y.TgZ(15,"div",5),y.YNc(16,V,53,41,"div",6),y.qZA(),y.qZA()),2&e&&(y.Q6J("formGroup",t.GroupPassengers),y.xp6(10),y.hij(" ",t.CartModel.Id," "),y.xp6(4),y.hij(" ",t.CartModel.PassengerCount," "),y.xp6(1),y.Q6J("formArrayName","Passengers"),y.xp6(1),y.Q6J("ngForOf",t.GetFormArray("Passengers").controls))},directives:[d.JL,d.sg,d.CE,l.sg,d.x0,d._,d.Fj,d.JJ,d.u,E.c],styles:[""]}),e}();function j(e,t){if(1&e&&y._UZ(0,"app-list-item",19),2&e){var o=y.oxw(),r=o.odd,a=o.$implicit,n=y.oxw(3);y.Q6J("Type","Sale")("IsOdd",r)("Tour",n.GetSale(a.Type,a.Sale))}}function $(e,t){if(1&e&&y._UZ(0,"app-list-item",20),2&e){var o=y.oxw(),r=o.odd,a=o.$implicit,n=y.oxw(3);y.Q6J("Type","Default")("IsOdd",r)("Room",n.GetSale(a.Type,a.Sale))}}function W(e,t){if(1&e&&y._UZ(0,"app-list-item",21),2&e){var o=y.oxw(),r=o.odd,a=o.$implicit,n=y.oxw(3);y.Q6J("Type","Default")("IsOdd",r)("Option",n.GetSale(a.Type,a.Sale))}}function X(e,t){if(1&e&&(y.TgZ(0,"div",2),y.ynx(1,14),y.YNc(2,j,1,3,"app-list-item",15),y.YNc(3,$,1,3,"app-list-item",16),y.YNc(4,W,1,3,"app-list-item",17),y.ynx(5,14),y._UZ(6,"app-passengers",18),y.BQk(),y.BQk(),y._UZ(7,"hr"),y.qZA()),2&e){var o=t.$implicit,r=y.oxw(3);y.xp6(1),y.Q6J("formGroupName","Sales"),y.xp6(1),y.Q6J("ngIf",o.Type===r.CartType().Tour),y.xp6(1),y.Q6J("ngIf",o.Type===r.CartType().Hotel),y.xp6(1),y.Q6J("ngIf",o.Type===r.CartType().Flight),y.xp6(1),y.Q6J("formGroupName","Sale_"+o.Id),y.xp6(1),y.Q6J("CartModel",o)("GroupPassengers",r.GetFormGroup("Sales.Sale_"+o.Id))}}function z(e,t){if(1&e&&(y.ynx(0),y.YNc(1,X,8,7,"div",13),y.ALo(2,"async"),y.BQk()),2&e){var o=y.oxw(2);y.xp6(1),y.Q6J("ngForOf",y.lcZ(2,1,o.Cart).Sales)}}function K(e,t){1&e&&(y.TgZ(0,"div",22),y._uU(1,"Please enter a valid data!!"),y.qZA())}function ee(e,t){if(1&e){var o=y.EpF();y.TgZ(0,"form",7),y.NdJ("ngSubmit",function(){return y.CHM(o),y.oxw().onSubmit()}),y._UZ(1,"app-reservation",8),y.YNc(2,z,3,3,"ng-container",9),y.ALo(3,"async"),y.TgZ(4,"div",10),y.TgZ(5,"div",3),y.TgZ(6,"div",4),y.TgZ(7,"button",11),y._uU(8,"Approve"),y.qZA(),y.YNc(9,K,2,0,"div",12),y.qZA(),y.qZA(),y.qZA(),y.qZA()}if(2&e){var r=y.oxw();y.Q6J("formGroup",r.FormBasket),y.xp6(1),y.Q6J("GroupReservation",r.FormBasket),y.xp6(1),y.Q6J("ngIf",y.lcZ(3,5,r.Cart).Length>0),y.xp6(5),y.Q6J("disabled",!r.FormBasket.valid),y.xp6(2),y.Q6J("ngIf",!r.FormBasket.valid&&r.FormBasket.touched)}}var te=function(){var o=function(){function o(e,t,a,n,i){r(this,o),this.route=e,this.router=t,this.saleService=a,this.store=n,this.dialogService=i,this.changedSaved=!1,this.CartType=function(){return p.E}}return n(o,[{key:"ngOnInit",value:function(){var e=this;this.Cart=this.store.select("Cart"),this.supStore=this.store.select("Cart").subscribe(function(t){e.Sales=t.Sales,e.InitializeForm(t.Sales)}),this.supStore=this.store.select("Auth").pipe((0,F.U)(function(e){return e.User})).subscribe(function(t){e.User=t})}},{key:"InitializeForm",value:function(o){var r=this;this.FormBasket=new d.cw({Reservation:new d.cw({Gender:new d.NI(null,d.kI.required),FirstName:new d.NI(null,[d.kI.required]),LastName:new d.NI(null),Birthday:new d.NI(null,d.kI.required),IdentificationNumber:new d.NI(null,d.kI.required),ContactInformation:new d.cw({Email:new d.NI(null,[d.kI.required,d.kI.email]),PhoneCell:new d.NI(null),Phone:new d.NI(null)}),Address:new d.cw({Line1:new d.NI(null),Line2:new d.NI(null),PostalCode:new d.NI(null),Country:new d.NI(null),City:new d.NI(null),District:new d.NI(null),Neighborhood:new d.NI(null)})}),Sales:new d.cw({})}),o.forEach(function(o){for(var a=new d.cw({Id:new d.NI({value:o.Id,disabled:!0}),Passengers:new d.Oe([])}),n=0,i=t(Array(o.PassengerCount).keys());n<i.length;n++){var l,s=i[n],u="Passenger_"+o.Id+"_"+s+"_",m=new d.cw((e(l={},u+"Gender",new d.NI("",d.kI.required)),e(l,u+"Birthday",new d.NI("",d.kI.required)),e(l,u+"Email",new d.NI("",[d.kI.required,d.kI.email])),e(l,u+"FirstName",new d.NI("",[d.kI.required])),e(l,u+"LastName",new d.NI("",d.kI.required)),e(l,u+"IdentityNo",new d.NI("",d.kI.required)),e(l,u+"PassportNo",new d.NI("")),e(l,u+"PassportType",new d.NI("")),l));a.get("Passengers").push(m)}r.FormBasket.get("Sales").addControl("Sale_"+o.Id,a)})}},{key:"GetSale",value:function(e,t){switch(e){case p.E.Tour:case p.E.Hotel:case p.E.Flight:return t}return null}},{key:"GetFormGroup",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.FormBasket;return t.get(e)}},{key:"GetCustomer",value:function(e){var t={Email:e.get("ContactInformation.Email").value,WhoIsName:"",Phone:e.get("ContactInformation.Phone").value,OtherPhones:"",CellPhone:e.get("ContactInformation.PhoneCell").value,Fax:"",SocialMediaLinks:"",WebAddress:"",Addresses:[{AddressType:"",Name:"",Line1:e.get("Address.Line1").value,Line2:e.get("Address.Line2").value,PostalCode:e.get("Address.PostalCode").value,Country:e.get("Address.Country").value,City:e.get("Address.City").value,District:e.get("Address.District").value,Neighborhood:e.get("Address.Neighborhood").value}]};return{FirstName:e.get("FirstName").value,LastName:e.get("LastName").value,Gender:e.get("Gender").value,Birthday:e.get("Birthday").value,Email:e.get("ContactInformation.Email").value,IdentificationNumber:e.get("IdentificationNumber").value,TaxIdentificationNumber:0,IsMember:!1,IsParent:!1,ContactInfos:[t]}}},{key:"CalculateAge",value:function(e){var t=0;if(e){var o=new Date(e),r=Math.abs(Date.now()-+o);t=Math.floor(r/864e5/365)}return t}},{key:"GetPassenger",value:function(e,t,o){var r="Passenger_"+t+"_"+o+"_";return{AgeType:0,Gender:e.get(r+"Gender").value,Birthday:e.get(r+"Birthday").value,Age:this.CalculateAge(e.get(r+"Birthday").value),Email:e.get(r+"Email").value,FirstName:e.get(r+"FirstName").value,LastName:e.get(r+"LastName").value,IdentityNo:e.get(r+"IdentityNo").value,PassportNo:e.get(r+"PassportNo").value,PassportType:e.get(r+"PassportType").value}}},{key:"onSubmit",value:function(){var e=this;this.changedSaved=!0,this.SaleRequest={AgencyCode:"B2C",BasketCode:"",User:this.User,Customers:[],Sales:[]},console.log(this.SaleRequest);var t=this.GetCustomer(this.FormBasket.get("Reservation"));this.SaleRequest.Customers.push(t),this.Sales.forEach(function(t){var o=[];e.FormBasket.get("Sales.Sale_"+t.Id+".Passengers").controls.forEach(function(r,a){var n=e.GetPassenger(r,t.Id,a);o.push(n)});var r={};switch(r.Passengers=o,r.Type=p.E[t.Type].toString(),t.Type){case p.E.Hotel:r.Hotel=t.Sale;break;case p.E.Tour:r.Tour=t.Sale;break;case p.E.Flight:r.Flight=t.Sale}e.SaleRequest.Sales.push(r)}),this.saleService.Save(this.SaleRequest),console.log("BasketForm SaleRequest",this.SaleRequest),this.router.navigate(["/Sale/Payment"],{relativeTo:this.route}).then()}},{key:"canDeactivate",value:function(){return!!this.changedSaved||this.dialogService.Prompt("Hey there!","Do you want to discard the changes?")}},{key:"ngOnDestroy",value:function(){this.supStore&&this.supStore.unsubscribe()}}]),o}();return o.\u0275fac=function(e){return new(e||o)(y.Y36(m.gz),y.Y36(m.F0),y.Y36(Q),y.Y36(u.yh),y.Y36(R.xA))},o.\u0275cmp=y.Xpm({type:o,selectors:[["app-basket"]],decls:17,vars:2,consts:[[1,"container"],[1,"row"],[1,"col-12","mb-3"],[1,"card","shadow"],[1,"card-body"],[1,"card-title"],[3,"formGroup","ngSubmit",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"col-12","mb-3",3,"GroupReservation"],[4,"ngIf"],[1,"col-12","mb-2"],["type","submit",1,"btn","btn-primary","mb-2",3,"disabled"],["class","help-block",4,"ngIf"],["class","col-12 mb-3",4,"ngFor","ngForOf"],[3,"formGroupName"],[3,"Type","IsOdd","Tour",4,"ngIf"],[3,"Type","IsOdd","Room",4,"ngIf"],[3,"Type","IsOdd","Option",4,"ngIf"],[3,"CartModel","GroupPassengers"],[3,"Type","IsOdd","Tour"],[3,"Type","IsOdd","Room"],[3,"Type","IsOdd","Option"],[1,"help-block"]],template:function(e,t){1&e&&(y.TgZ(0,"div",0),y.TgZ(1,"div",1),y.TgZ(2,"div",2),y.TgZ(3,"div",3),y.TgZ(4,"div",4),y.TgZ(5,"h2",5),y._uU(6,"Basket"),y.qZA(),y._uU(7),y._UZ(8,"hr"),y._uU(9," m\xfc\u015fteri bilgilerinin al\u0131nmas\u0131 "),y._UZ(10,"br"),y._uU(11,"carttan gelen sat\u0131\u015flar apiden sat\u0131\u015flar\u0131n sepet kodlar\u0131n\u0131 almas\u0131 "),y._UZ(12,"br"),y._uU(13,"sat\u0131\u015flar\u0131n yolcu bilgilerinin al\u0131nmas\u0131 "),y._UZ(14,"br"),y._uU(15,"dinamik yolcu say\u0131s\u0131??? "),y.qZA(),y.qZA(),y.qZA(),y.YNc(16,ee,10,7,"form",6),y.qZA(),y.qZA()),2&e&&(y.xp6(7),y.hij(" ",t.SaleRequest?t.SaleRequest.BasketCode:"_local_"," "),y.xp6(9),y.Q6J("ngIf",t.FormBasket))},directives:[l.O5,d._Y,d.JL,d.sg,Y,l.sg,d.x0,H,T.G],pipes:[l.Ov],styles:[""]}),o}(),oe=i(9702);function re(e,t){if(1&e&&y._UZ(0,"app-list-item",54),2&e){var o=y.oxw(),r=o.odd,a=o.$implicit;y.Q6J("Type","Sale")("IsOdd",r)("Tour",a.Tour)}}function ae(e,t){if(1&e&&y._UZ(0,"app-list-item",55),2&e){var o=y.oxw(),r=o.odd,a=o.$implicit;y.Q6J("Type","Default")("IsOdd",r)("Room",a.Hotel)}}function ne(e,t){if(1&e&&y._UZ(0,"app-list-item",56),2&e){var o=y.oxw(),r=o.odd,a=o.$implicit;y.Q6J("Type","Default")("IsOdd",r)("Option",a.Flight)}}function ie(e,t){if(1&e&&(y.TgZ(0,"div",62),y.TgZ(1,"div",63),y.TgZ(2,"h5",59),y._uU(3),y.qZA(),y.TgZ(4,"ul",64),y.TgZ(5,"li",65),y.TgZ(6,"label"),y._uU(7,"Gender"),y.qZA(),y._uU(8,":"),y.TgZ(9,"strong"),y._uU(10),y.qZA(),y.qZA(),y.TgZ(11,"li",65),y.TgZ(12,"label"),y._uU(13,"Birthday"),y.qZA(),y._uU(14,":"),y.TgZ(15,"strong"),y._uU(16),y.qZA(),y.qZA(),y.TgZ(17,"li",65),y.TgZ(18,"label"),y._uU(19,"Email"),y.qZA(),y._uU(20,":"),y.TgZ(21,"strong"),y._uU(22),y.qZA(),y.qZA(),y.TgZ(23,"li",65),y.TgZ(24,"label"),y._uU(25,"Name "),y.qZA(),y._uU(26,":"),y.TgZ(27,"strong"),y._uU(28),y.qZA(),y.qZA(),y.TgZ(29,"li",65),y.TgZ(30,"label"),y._uU(31,"IdentityNo"),y.qZA(),y._uU(32,":"),y.TgZ(33,"strong"),y._uU(34),y.qZA(),y.qZA(),y.TgZ(35,"li",65),y.TgZ(36,"label"),y._uU(37,"PassportNo"),y.qZA(),y._uU(38,":"),y.TgZ(39,"strong"),y._uU(40),y.qZA(),y.qZA(),y.TgZ(41,"li",65),y.TgZ(42,"label"),y._uU(43,"PassportType"),y.qZA(),y._uU(44,":"),y.TgZ(45,"strong"),y._uU(46),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA()),2&e){var o=t.$implicit,r=t.index;y.xp6(3),y.hij("Passenger ",r+1," "),y.xp6(7),y.Oqu(o.Gender),y.xp6(6),y.Oqu(o.Birthday),y.xp6(6),y.Oqu(o.Email),y.xp6(6),y.AsE("",o.FirstName,"\xa0",o.LastName,""),y.xp6(6),y.Oqu(o.IdentityNo),y.xp6(6),y.Oqu(o.PassportNo),y.xp6(6),y.Oqu(o.PassportType)}}function le(e,t){if(1&e&&(y.TgZ(0,"div",57),y.TgZ(1,"div",58),y.TgZ(2,"div",6),y.TgZ(3,"h5",59),y._uU(4,"Customer Info"),y.qZA(),y.TgZ(5,"label"),y._uU(6,"Gender"),y.qZA(),y._uU(7,":"),y.TgZ(8,"strong"),y._uU(9),y.qZA(),y._UZ(10,"br"),y.TgZ(11,"label"),y._uU(12,"Name"),y.qZA(),y._uU(13,":"),y.TgZ(14,"strong"),y._uU(15),y.qZA(),y._UZ(16,"br"),y.TgZ(17,"label"),y._uU(18,"Birthday"),y.qZA(),y._uU(19,":"),y.TgZ(20,"strong"),y._uU(21),y.qZA(),y.qZA(),y.qZA(),y._UZ(22,"br"),y.TgZ(23,"div",60),y.YNc(24,ie,47,9,"div",61),y.qZA(),y.qZA()),2&e){var o=y.oxw().$implicit,r=y.oxw(2);y.xp6(9),y.Oqu(r.SaleRequest.Customers[0].Gender),y.xp6(6),y.AsE("",r.SaleRequest.Customers[0].FirstName,"\xa0",r.SaleRequest.Customers[0].LastName,""),y.xp6(6),y.Oqu(r.SaleRequest.Customers[0].Birthday),y.xp6(3),y.Q6J("ngForOf",o.Passengers)}}function se(e,t){if(1&e&&(y.TgZ(0,"div",48),y.YNc(1,re,1,3,"app-list-item",49),y.YNc(2,ae,1,3,"app-list-item",50),y.YNc(3,ne,1,3,"app-list-item",51),y.TgZ(4,"div",52),y.TgZ(5,"label"),y._uU(6,"SaleCode"),y.qZA(),y._uU(7,":"),y.TgZ(8,"strong"),y._uU(9),y.qZA(),y.TgZ(10,"label"),y._uU(11,"BusinessCode"),y.qZA(),y._uU(12,":"),y.TgZ(13,"strong"),y._uU(14),y.qZA(),y.qZA(),y.YNc(15,le,25,5,"div",53),y.qZA()),2&e){var o=t.$implicit,r=y.oxw(2);y.xp6(1),y.Q6J("ngIf",o.Tour),y.xp6(1),y.Q6J("ngIf",o.Hotel),y.xp6(1),y.Q6J("ngIf",o.Flight),y.xp6(6),y.Oqu(o.SaleCode),y.xp6(5),y.Oqu(o.BusinessCode),y.xp6(1),y.Q6J("ngIf",r.SaleRequest.Customers[0])}}function ue(e,t){if(1&e&&(y.TgZ(0,"div"),y._uU(1),y.qZA()),2&e){var o=y.oxw(2);y.xp6(1),y.xDo(" ",o.BinInfo.BinNo," ",o.BinInfo.CardBrand," ",o.BinInfo.CardLevel," ",o.BinInfo.ImageSrc," ",o.BinInfo.IssuingBank," ")}}function de(e,t){if(1&e&&(y.TgZ(0,"option",66),y._uU(1),y.qZA()),2&e){var o=t.$implicit;y.s9C("value",o.toString().substring(2,4)),y.xp6(1),y.hij("",o," ")}}function me(e,t){if(1&e){var o=y.EpF();y.TgZ(0,"div",1),y.TgZ(1,"div",2),y.TgZ(2,"h2"),y._uU(3,"Payment"),y.qZA(),y._uU(4),y.qZA(),y.YNc(5,se,16,6,"div",3),y.TgZ(6,"div",4),y.TgZ(7,"div",5),y.TgZ(8,"div",6),y.TgZ(9,"span",7),y.NdJ("click",function(){return y.CHM(o),y.oxw().FillDummyData()}),y._uU(10,"Fill Dummy Data"),y.qZA(),y.qZA(),y.qZA(),y.TgZ(11,"nav"),y.TgZ(12,"div",8),y.TgZ(13,"a",9),y._uU(14,"Credit Card"),y.qZA(),y.TgZ(15,"a",10),y._uU(16,"Paypal"),y.qZA(),y.qZA(),y.qZA(),y.TgZ(17,"div",11),y.TgZ(18,"div",12),y.TgZ(19,"form",13),y.NdJ("ngSubmit",function(){return y.CHM(o),y.oxw().OnSubmit()}),y._UZ(20,"div"),y.TgZ(21,"div",14),y.TgZ(22,"div",15),y.TgZ(23,"div",16),y._UZ(24,"input",17),y.TgZ(25,"label",18),y._uU(26),y.qZA(),y._UZ(27,"app-validation",19),y.YNc(28,ue,2,5,"div",20),y.qZA(),y.qZA(),y.TgZ(29,"div",15),y.TgZ(30,"div",16),y._UZ(31,"input",21),y.TgZ(32,"label",22),y._uU(33,"Card Holder Name:"),y.qZA(),y._UZ(34,"app-validation",19),y.qZA(),y.qZA(),y.qZA(),y.TgZ(35,"div",23),y.TgZ(36,"div",24),y.TgZ(37,"select",25),y.TgZ(38,"option",26),y._uU(39,"Jan (01)"),y.qZA(),y.TgZ(40,"option",27),y._uU(41,"Feb (02)"),y.qZA(),y.TgZ(42,"option",28),y._uU(43,"Mar (03)"),y.qZA(),y.TgZ(44,"option",29),y._uU(45,"Apr (04)"),y.qZA(),y.TgZ(46,"option",30),y._uU(47,"May (05)"),y.qZA(),y.TgZ(48,"option",31),y._uU(49,"June (06)"),y.qZA(),y.TgZ(50,"option",32),y._uU(51,"July (07)"),y.qZA(),y.TgZ(52,"option",33),y._uU(53,"Aug (08)"),y.qZA(),y.TgZ(54,"option",34),y._uU(55,"Sep (09)"),y.qZA(),y.TgZ(56,"option",35),y._uU(57,"Oct (10)"),y.qZA(),y.TgZ(58,"option",36),y._uU(59,"Nov (11)"),y.qZA(),y.TgZ(60,"option",37),y._uU(61,"Dec (12)"),y.qZA(),y.qZA(),y.TgZ(62,"label",38),y._uU(63,"Expiration Date: "),y.qZA(),y._UZ(64,"app-validation",19),y.qZA(),y.TgZ(65,"div",24),y.TgZ(66,"select",39),y.YNc(67,de,2,2,"option",40),y.qZA(),y._UZ(68,"label",41),y._UZ(69,"app-validation",19),y.qZA(),y.TgZ(70,"div",15),y._UZ(71,"input",42),y.TgZ(72,"label",43),y._uU(73,"Card CVV:"),y.qZA(),y._UZ(74,"app-validation",19),y.qZA(),y.qZA(),y.TgZ(75,"div",23),y.TgZ(76,"div",15),y.TgZ(77,"div",16),y._UZ(78,"input",44),y.TgZ(79,"label",45),y._uU(80,"Amount:"),y.qZA(),y.qZA(),y.qZA(),y.TgZ(81,"div",15),y.TgZ(82,"button",46),y._uU(83,"Pay Now "),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.TgZ(84,"div",47),y._uU(85,"..."),y.qZA(),y.qZA(),y.qZA(),y.qZA()}if(2&e){var r=y.oxw();y.xp6(4),y.lnq(" ",r.SaleRequest.BasketCode," ",r.SaleRequest.AgencyCode," ",null==r.SaleRequest.User?null:r.SaleRequest.User.Username," "),y.xp6(1),y.Q6J("ngForOf",r.SaleRequest.Sales),y.xp6(14),y.Q6J("formGroup",r.PaymentForm),y.xp6(5),y.Q6J("formControlName","CardNumber"),y.xp6(2),y.hij("Card Number (",r.CartType,")"),y.xp6(1),y.Q6J("Caption","CardNumber")("ToCheck",r.GetFormControl("CardNumber")),y.xp6(1),y.Q6J("ngIf",r.BinInfo),y.xp6(3),y.Q6J("formControlName","CardOwner"),y.xp6(3),y.Q6J("Caption","CardOwner")("ToCheck",r.GetFormControl("CardOwner")),y.xp6(3),y.Q6J("formControlName","ExpireMonth"),y.xp6(27),y.Q6J("Caption","ExpireMonth")("ToCheck",r.GetFormControl("ExpireMonth")),y.xp6(2),y.Q6J("formControlName","ExpireYear"),y.xp6(1),y.Q6J("ngForOf",r.years),y.xp6(2),y.Q6J("Caption","ExpireYear")("ToCheck",r.GetFormControl("ExpireYear")),y.xp6(2),y.Q6J("formControlName","Cvv2")("maxlength","16"),y.xp6(3),y.Q6J("Caption","Cvv2")("ToCheck",r.GetFormControl("Cvv2")),y.xp6(4),y.Q6J("formControlName","Amount"),y.xp6(4),y.Q6J("disabled",!r.PaymentForm.valid&&!r.PaymentForm.touched)}}var ce=function(){var e=function(){function e(t,o,a,n){r(this,e),this.route=t,this.router=o,this.webStorage=a,this.saleService=n,this.TotalAmount=.56,this.years=[];var i=new Date;this.years=this.Range(i.getFullYear(),i.getFullYear()+10)}return n(e,[{key:"Range",value:function(e,t){return new Array(t-e+1).fill(void 0).map(function(t,o){return o+e})}},{key:"ngOnInit",value:function(){var e=this;this.SaleRequest=this.webStorage.Get(oe.Z1.Local,"SaleRequest"),this.saleService.SaleChanged.subscribe(function(t){e.SaleRequest=t,e.webStorage.Set(oe.Z1.Local,"SaleRequest",t)}),console.log("Payment SaleRequest",this.SaleRequest),this.InitializeForm()}},{key:"InitializeForm",value:function(){var e=this;this.PaymentForm=new d.cw({Amount:new d.NI({value:this.TotalAmount,disabled:!0}),CardOwner:new d.NI(null,d.kI.required),CardNumber:new d.NI(null,[d.kI.required,d.kI.minLength(16),d.kI.maxLength(16)]),ExpireMonth:new d.NI(null,d.kI.required),ExpireYear:new d.NI(null,d.kI.required),Cvv2:new d.NI(null,d.kI.required)}),this.PaymentForm.get("CardNumber").valueChanges.subscribe(function(t){if(t&&t.toString().length>0){var o=t.toString().substring(0,1);if("4"===o?e.CartType="Visa":"5"===o?e.CartType="MasterCard":"6"===o&&(e.CartType="Discovery"),t.toString().length>=6){var r="0000000000000000",a=(t.toString()+r.substring(0,r.length-t.toString().length)).substring(0,6);e.saleService.BankCardControl({CardNo:a}).subscribe(function(t){e.BinInfo=t})}}})}},{key:"FillDummyData",value:function(){this.PaymentForm.patchValue({CardOwner:"NAME LAST_NAME",CardNumber:"0000111122223333",ExpireMonth:"02",ExpireYear:"32",Cvv2:"123"})}},{key:"OnSubmit",value:function(){var e=this;this.Request={User:this.SaleRequest.User,AgencyCode:this.SaleRequest.AgencyCode,BasketCode:this.SaleRequest.BasketCode,Card:{CardOwner:this.PaymentForm.get("CardOwner").value,CardNumber:this.PaymentForm.get("CardNumber").value,ExpireYear:this.PaymentForm.get("ExpireYear").value,ExpireMonth:this.PaymentForm.get("ExpireMonth").value,Cvv2:this.PaymentForm.get("Cvv2").value},Installment:0,Amount:this.TotalAmount,UrlOk:"http://localhost:4224/Sale/Payment/Secure",UrlFail:"http://localhost:4224/Sale/Payment/Secure",SecurityLevel:"3D"},this.saleService.SecurePrepare(this.Request).subscribe(function(t){t&&(console.log("Payment SecurePrepare",t),e.webStorage.Set(oe.Z1.Local,"SecureRequest",e.Request),e.webStorage.Set(oe.Z1.Local,"SecureResponse",t),e.PaymentForm.reset(),e.router.navigate(["/Sale/Payment/Secure"],{relativeTo:e.route}).then())})}},{key:"GetFormControl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.PaymentForm;return t.get(e)}},{key:"GetFormArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.PaymentForm;return t.get(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(y.Y36(m.gz),y.Y36(m.F0),y.Y36(oe.VW),y.Y36(Q))},e.\u0275cmp=y.Xpm({type:e,selectors:[["app-payment"]],decls:1,vars:1,consts:[["class","container",4,"ngIf"],[1,"container"],[1,"card","card-body","shadow-lg","mb-3"],["class","shadow mb-3 p-2 bg-white rounded",4,"ngFor","ngForOf"],[1,"shadow-lg","p-3","mb-3","bg-white","rounded"],[1,"card","mb-2"],[1,"card-body"],[1,"btn","btn-outline-dark",3,"click"],["id","nav-tab","role","tablist",1,"nav","nav-tabs"],["id","nav-home-tab","data-toggle","tab","href","#nav-home","role","tab","aria-controls","nav-home","aria-selected","true",1,"nav-item","nav-link","active"],["id","nav-paypal-tab","data-toggle","tab","href","#nav-paypal","role","tab","aria-controls","nav-paypal","aria-selected","false",1,"nav-item","nav-link"],["id","nav-tabContent",1,"tab-content"],["id","nav-home","role","tabpanel","aria-labelledby","nav-home-tab",1,"tab-pane","fade","show","active"],[1,"",3,"formGroup","ngSubmit"],[1,"row","my-2"],[1,"col-12","col-lg-6"],[1,"mb-2"],["type","number","id","CardNumber","placeholder","Debit/Credit Card Number",1,"form-control",3,"formControlName"],["for","CardNumber",1,"active"],[3,"Caption","ToCheck"],[4,"ngIf"],["type","text","id","CardOwner","placeholder","Card Holder's Name",1,"form-control",3,"formControlName"],["for","CardOwner",1,"active"],[1,"row"],[1,"col-6","col-lg-3"],["id","ExpireMonth",1,"form-select",3,"formControlName"],["value","01"],["value","02"],["value","03"],["value","04"],["value","05"],["value","06"],["value","07"],["value","08"],["value","09"],["value","10"],["value","11"],["value","12"],["for","ExpireMonth",1,"active"],["id","ExpireYear",1,"form-select","ml-1",3,"formControlName"],[3,"value",4,"ngFor","ngForOf"],["for","ExpireYear",1,"active"],["type","text","id","Cvv2","placeholder","Security Code",1,"form-control",3,"formControlName","maxlength"],["for","Cvv2",1,"active"],["type","text","id","Amount",1,"form-control",3,"formControlName"],["for","Amount",1,"active"],["type","submit",1,"btn","btn-outline-success",3,"disabled"],["id","nav-paypal","role","tabpanel","aria-labelledby","nav-paypal-tab",1,"tab-pane","fade"],[1,"shadow","mb-3","p-2","bg-white","rounded"],[3,"Type","IsOdd","Tour",4,"ngIf"],[3,"Type","IsOdd","Room",4,"ngIf"],[3,"Type","IsOdd","Option",4,"ngIf"],[1,"col-12","mt-2"],["class","col-12",4,"ngIf"],[3,"Type","IsOdd","Tour"],[3,"Type","IsOdd","Room"],[3,"Type","IsOdd","Option"],[1,"col-12"],[1,"card"],[1,"card-title"],[1,"row","mb-2","p-2"],["class","col-12 col-md-4 p-md-1 mb-2",4,"ngFor","ngForOf"],[1,"col-12","col-md-4","p-md-1","mb-2"],[1,"shadow","p-3","bg-white","rounded"],[1,"list-group","list-group-flush"],[1,"list-group-item"],[3,"value"]],template:function(e,t){1&e&&y.YNc(0,me,86,26,"div",0),2&e&&y.Q6J("ngIf",t.SaleRequest)},directives:[l.O5,l.sg,d._Y,d.JL,d.sg,d.wV,d.Fj,d.JJ,d.u,E.c,d.EJ,d.YN,d.Kr,d.nD,T.G],styles:[""]}),e}(),pe=["SecureForm"],ge=function(){var e=function(){function e(t,o){r(this,e),this.webStorage=t,this.saleService=o}return n(e,[{key:"ngOnInit",value:function(){this.SecureResponse=this.webStorage.Get(oe.Z1.Local,"SecureResponse"),console.log("SecureResponse",this.SecureResponse),this.SecureForm.nativeElement.innerHTML="\n    ".concat(this.SecureResponse.Data.Form.HiddenInputs,'\n    <div class="container">\n      <div class="row">\n        <table class="table table-hover">\n          <tr>\n            <td class=\'text-center\'><p><span>').concat(this.SecureResponse.Data.Title,'</span></p></td>\n          </tr>\n        </table>\n      </div>\n    </div>\n    <button type="submit">Send</button>')}},{key:"ngAfterViewInit",value:function(){this.SecureForm.nativeElement.submit().then(function(e){console.log(e)})}},{key:"onSubmit",value:function(e,t){var o=this.webStorage.Get(oe.Z1.Local,"SecureRequest"),r=[{test:"garanti"},{ddff:"ddd"}];console.log("ConfirmRequest",{User:o.User,AgencyCode:o.AgencyCode,BasketCode:o.BasketCode,Card:o.Card,Amount:this.SecureResponse.Data.Amount,OrderId:this.SecureResponse.Data.OrderId,ValueCollection:r},r)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(y.Y36(oe.VW),y.Y36(Q))},e.\u0275cmp=y.Xpm({type:e,selectors:[["app-payment-secure"]],viewQuery:function(e,t){var o;(1&e&&y.Gf(pe,7),2&e)&&(y.iGM(o=y.CRH())&&(t.SecureForm=o.first))},decls:2,vars:3,consts:[["novalidate","",3,"name","action","method","ngSubmit"],["SecureForm",""]],template:function(e,t){if(1&e){var o=y.EpF();y.TgZ(0,"form",0,1),y.NdJ("ngSubmit",function(e){y.CHM(o);var r=y.MAs(1);return t.onSubmit(r,e)}),y.qZA()}2&e&&y.Q6J("name",t.SecureResponse.Data.Form.Name)("action",t.SecureResponse.Data.Form.ActionUrl,y.LSH)("method",t.SecureResponse.Data.Form.Method)},directives:[d._Y,d.JL,d.F],styles:[""]}),e}(),fe=i(2657),Ze=i(5485),ve=[{path:"",children:[{path:"Cart",component:P},{path:"Basket",component:te,canDeactivate:[fe.I]},{path:"Payment",component:ce},{path:"Payment/Secure",component:ge},{path:"**",resolve:{path:B.Rd},component:Ze.r}]}],he=function(){var e=function e(){r(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=y.oAB({type:e}),e.\u0275inj=y.cJS({imports:[[m.Bz.forChild(ve)],m.Bz]}),e}(),Ce=[i(5326).m,R.Su],ye=[l.ez,d.u5,d.UX],Te=[u.Aw.forFeature(c.AQ,c.j),s.sQ.forFeature([c.Lb])],Ae=function(){var e=function e(){r(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=y.oAB({type:e}),e.\u0275inj=y.cJS({providers:[Q],imports:[[].concat(ye,Te,Ce,[he,L.v$])]}),e}()}}])}();