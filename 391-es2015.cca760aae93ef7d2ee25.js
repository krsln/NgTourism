"use strict";(self.webpackChunkng_tourism=self.webpackChunkng_tourism||[]).push([[391],{391:function(t,e,o){o.d(e,{T:function(){return p},yN:function(){return m},X_:function(){return c},lX:function(){return l}});var n=o(8583),s=o(7716);o(5094),o(1776),o(6889),o(1598),o(7540),o(4294),o(5207),o(5755);let i=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({}),t})();const a=["gMap"];let r=(()=>{class t{constructor(){this.Id="Mapper".concat("_",Math.random().toString(36).substring(2,15),"_",Math.random().toString(36).substring(2,15)),this.Markers=[]}CreateMap(t){const e=Object.assign({center:new google.maps.LatLng(41.015137,28.97953),zoom:5,maxZoom:13,minZoom:2,mapTypeId:google.maps.MapTypeId.ROADMAP,scrollwheel:!1,streetViewControl:!1},t);this.map=new google.maps.Map(this.gMap.nativeElement,e)}CreateRouteMap(t){this.CreateMap(t);const e=[];new google.maps.InfoWindow,this.Markers.forEach((t,o)=>{const n=this.AddMarker({marker:t,label:(o+1).toString()},{});e.push(n.getPosition())}),this.SetPolyline(e),this.SetCleanRoadMap(),this.ExtendBounds()}AddMarker(t,e){const o=new google.maps.Marker({title:t.marker.Title,position:new google.maps.LatLng(t.marker.LatLng.Lat,t.marker.LatLng.Lng),draggable:!1,animation:google.maps.Animation.DROP});t.label&&o.setLabel({color:"white",fontWeight:"bold",text:t.label}),this.map&&o.setMap(this.map);const n=new google.maps.InfoWindow({content:t.marker.Title});if(e.content&&n.setOptions({content:e.content}),o.addListener("click",()=>{n.open(this.map,o),!e.noAnim&&(null!==o.getAnimation()?o.setAnimation(null):o.setAnimation(google.maps.Animation.BOUNCE))}),e.open){const t=o.getPosition();t&&this.map&&this.map.setCenter(t),setTimeout(()=>{n.open(this.map,o)},300)}return o}SetPolyline(t){const e={path:google.maps.SymbolPath.FORWARD_CLOSED_ARROW,scaledSize:new google.maps.Size(40,40),strokeColor:"#ff3333"},o=new google.maps.Polyline({path:t,icons:[{icon:e,repeat:"100px",offset:"100%"}],map:this.map});this.SetPolylineAnimate(o)}SetPolylineAnimate(t){let e=0;window.setInterval(()=>{e=(e+1)%200;const o=t.get("icons");o&&(o[0].offset=e/5+"%"),t.set("icons",o)},20)}ExtendBounds(){const t=new google.maps.LatLngBounds;this.Markers&&this.Markers.forEach(e=>{t.extend(new google.maps.LatLng(e.LatLng.Lat,e.LatLng.Lng))}),setTimeout(()=>{this.map&&this.map.fitBounds(t)},250)}SetCleanRoadMap(){this.map&&this.map.setOptions({styles:[{featureType:"administrative.province",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"administrative.locality",elementType:"labels",stylers:[{visibility:"off"}]}]})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Xpm({type:t,selectors:[["ql-mapper"]],viewQuery:function(t,e){if(1&t&&s.Gf(a,7),2&t){let t;s.iGM(t=s.CRH())&&(e.gMap=t.first)}},inputs:{Markers:"Markers"},decls:3,vars:1,consts:[[1,"row","m-2","p-3","border","border-success","rounded",3,"id"],[2,"width","100%","height","400px"],["gMap",""]],template:function(t,e){1&t&&(s.TgZ(0,"div",0),s._UZ(1,"div",1,2),s.qZA()),2&t&&s.Q6J("id",e.Id)},styles:[""]}),t})();var p=(()=>{return(t=p||(p={})).HYBRID="hybrid",t.ROADMAP="roadmap",t.SATELLITE="satellite",t.TERRAIN="terrain",p;var t})(),l=(()=>{return(t=l||(l={}))[t.Basic=0]="Basic",t[t.RouteMap=1]="RouteMap",l;var t})();let m=(()=>{class t{constructor(t,e,o,n){this.elementRef=t,this.componentFactoryResolver=e,this.appRef=o,this.injector=n,this.el=this.elementRef.nativeElement}ngOnInit(){if(!this.Options)return;const t={};this.Options.center&&(t.center=new google.maps.LatLng(this.Options.center.Lat,this.Options.center.Lng)),void 0!==this.Options.scrollWheel&&(t.scrollwheel=this.Options.scrollWheel),void 0!==this.Options.zoomControl&&(t.zoomControl=this.Options.zoomControl),void 0!==this.Options.mapTypeControl&&(t.mapTypeControl=this.Options.mapTypeControl),void 0!==this.Options.streetViewControl&&(t.streetViewControl=this.Options.streetViewControl),void 0!==this.Options.fullscreenControl&&(t.fullscreenControl=this.Options.fullscreenControl),this.Options.mapType&&(t.mapTypeId=this.Options.mapType),this.Options.zoom&&(t.zoom=this.Options.zoom.val||4,t.maxZoom=this.Options.zoom.max||13,t.minZoom=this.Options.zoom.min||2);const e=this.GetComponentRef();e.instance.Markers=this.Options.markers||[],this.Options.type===l.Basic&&(e.instance.CreateMap(t),this.Options.infoContent&&e.instance.AddMarker({marker:{Title:"test",LatLng:this.Options.center}},{content:this.Options.infoContent,open:!0})),this.Options.type===l.RouteMap&&e.instance.CreateRouteMap(t)}GetComponentRef(){const t=this.componentFactoryResolver.resolveComponentFactory(r).create(this.injector);return this.appRef.attachView(t.hostView),this.el.appendChild(t.hostView.rootNodes[0]),t}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(s.SBq),s.Y36(s._Vd),s.Y36(s.z2F),s.Y36(s.zs3))},t.\u0275dir=s.lG2({type:t,selectors:[["span","qlMapper",""],["div","qlMapper",""]],inputs:{Options:"Options"}}),t})(),c=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[n.ez,i]]}),t})()}}]);